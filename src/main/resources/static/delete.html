<!doctype html>
<html lang="it"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Elimina Ordini</title></head>
<body>
<h1>Elimina ordini</h1>
<div id="list"></div>
<script>
async function load(){
  const data = await fetch('/getordini?status=NEW,IN_PROGRESS,READY,DONE&sinceMinutes=1440').then(r=>r.json());
  document.getElementById('list').innerHTML = data.map(o=>`<div>${o.id} - ${o.status} - ${o.totalAmount}â‚¬ <button onclick="del('${o.id}')">elimina</button></div>`).join('');
}
async function delOrder(id){ await fetch('/deleteordine/'+encodeURIComponent(id),{method:'DELETE'}); load(); }
window.del = delOrder;
setInterval(load,3000); load();
</script>
</body></html>
